#!/bin/python3

'''
Takes files with format of
host1:80,443,445
host2:1337,3389,5895
and nmaps its
'''

import sys
import subprocess

if len(sys.argv) != 2:
	print(f'Usage: {sys.argv[0]} host_to_port.file')
	exit()

with open(sys.argv[1]) as f:
    for line in f:
        host, ports = line.strip().split(':')
        nmap_cmd = f'nmap -sC -sV -A {host} -oN nmap/{host}_full_scan -p {ports} -v -Pn'
        subprocess.run(nmap_cmd.split())

